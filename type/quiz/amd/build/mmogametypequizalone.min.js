define("mmogametype_quiz/mmogametypequizalone",["mmogametype_quiz/mmogametypequiz"],(function(MmoGameTypeQuiz){return class extends MmoGameTypeQuiz{constructor(){super(),this.cIcons=this.hasHelp()?5:4,this.autosave=!0,this.autosubmit=!0,this.type="alone"}createIconBar(){let i=0;const step=this.iconSize+this.padding;this.nickNameHeight=Math.round(this.iconSize/3),this.buttonAvatarHeight=Math.round(this.iconSize-this.iconSize/3),this.createButtonsAvatar(1,Math.round(this.padding+i++*step)),this.buttonsAvatar[1].style.top=this.padding+this.nickNameHeight+"px",this.createDivScorePercent("mmogame-quiz-alone",this.padding+i++*step,this.padding+this.nickNameHeight,this.getConstrastingColor(this.color),!0),this.createButtonSound(this.padding+i++*step,this.padding+this.nickNameHeight),this.hasHelp()&&(this.createButtonHelp(this.padding+i++*step,this.padding),this.buttonHelp.addEventListener("click",(()=>this.onClickHelp(this.buttonHelp))));let copyrightHeight=this.getCopyrightHeight();this.areaTop=2*this.padding+this.iconSize+this.nickNameHeight,this.areaWidth=Math.round(window.innerWidth-2*this.padding),this.areaHeight=Math.round(window.innerHeight-this.areaTop-copyrightHeight),this.createDivColor(this.body,"mmogame-quiz-alone-color",0,window.innerHeight-copyrightHeight-1,window.innerWidth-1,copyrightHeight,this.getColorGray(this.colorCopyright)),this.vertical=this.areaHeight>this.areaWidth}processSetAnswer(json){this.correct=json.correct,this.playAudio(0!==json.iscorrect?this.audioYes:this.audioNo),void 0!==json.correct&&"multichoice"===this.qtype&&this.updateScreenAfterAnswerMultichoice(),this.disableInput(),this.btnSubmit&&(this.body.removeChild(this.btnSubmit),this.btnSubmit=void 0);const btn=super.createImageButton(this.area,"mmogame-quiz-next",this.nextLeft,this.nextTop,0,this.iconSize,"assets/next.svg");btn.addEventListener("click",(()=>{this.callGetAttempt(),this.area.removeChild(btn)})),this.showScore(json)}onServerFastJson(response){const[state,timefastjson]=response.split("-").map(Number);timefastjson===this.timefastjson&&state===this.state?this.sendFastJSON():this.sendGetAttempt({mmogameid:this.mmogameid,kinduser:this.kinduser,user:this.user})}processGetAttempt(json){if(0===parseInt(json.state))return json.qtype="",json.colors&&(this.setColorsString(json.colors),this.createIconBar()),this.showScore(json),void this.createDivMessageStart(this.getStringM("js_wait_to_start"));super.processGetAttempt(json),this.btnSubmit&&(this.btnSubmit.style.visibility="hidden")}showScore(_ref){let{rank:rank,rankc:rankc,sumscore:sumscore}=_ref;void 0!==rank&&void 0!==rankc&&(parseInt(rank)<parseInt(rankc)?(this.completedrank="",this.rank="# ".concat(rank)):(this.rank="",this.completedrank="# ".concat(rankc)));const s=void 0===sumscore?"":"<b>".concat(sumscore,"</b>");this.labelScore.innerHTML!==s&&(this.labelScore.innerHTML=s,this.autoResizeText(this.labelScore,.8*this.iconSize/2,this.iconSize/2,!1,0,0,1))}showHelpScreen(div){div.innerHTML="\n                <br>\n                <div>".concat(this.getStringG("js_alone_help"),'</div><br>\n\n                <table border=1>\n                    <tr>\n                        <td><img height="83" src="assets/aduel/example2.png" alt="" /></td>\n                        <td>').concat(this.getStringG("js_aduel_example2"),"</td>\n                    </tr>\n                </table>\n            ")}}}));

//# sourceMappingURL=mmogametypequizalone.min.js.map