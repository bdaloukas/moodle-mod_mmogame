define("mmogametype_quiz/mmogametypequizalone",["mmogametype_quiz/mmogametypequiz"],(function(MmoGameTypeQuiz){return class extends MmoGameTypeQuiz{constructor(){super(),this.cIcons=this.hasHelp()?5:4,this.autosave=!0,this.autosubmit=!0,this.type="alone"}createIconBar(){let i=0;this.nickNameHeight=Math.round(this.iconSize/3),this.buttonAvatarLeft=this.padding+i*(this.iconSize+this.padding),this.buttonAvatarHeight=Math.round(this.iconSize-this.iconSize/3),this.buttonAvatarTop=this.iconSize-this.buttonAvatarHeight+this.padding,this.createButtonsAvatar(1,Math.round(this.padding+i++*(this.iconSize+this.padding))),this.buttonsAvatar[1].style.top=this.padding+this.nickNameHeight+"px",this.createDiv(this.body,this.buttonAvatarLeft,this.padding,this.iconSize,this.buttonAvatarTop),this.createDivScorePercent(this.padding+i++*(this.iconSize+this.padding),this.padding+this.nickNameHeight,1),this.createButtonSound(this.padding+i++*(this.iconSize+this.padding),this.padding+this.nickNameHeight);let instance=this;this.hasHelp()&&(this.createButtonHelp(this.padding+i++*(this.iconSize+this.padding),this.padding),this.buttonHelp.addEventListener("click",(function(){instance.onClickHelp(instance.buttonHelp)})));let copyrightHeight=this.getCopyrightHeight();this.areaTop=2*this.padding+this.iconSize+this.nickNameHeight,this.areaWidth=Math.round(window.innerWidth-2*this.padding),this.areaHeight=Math.round(window.innerHeight-this.areaTop-copyrightHeight),this.createDivColor(this.body,0,window.innerHeight-copyrightHeight-1,window.innerWidth-1,copyrightHeight,this.getColorGray(this.colorCopyright)),this.vertical=this.areaHeight>this.areaWidth}callSetAnswer(){clearTimeout(this.timerTimeout),this.timerTimeout=void 0;let instance=this;require(["core/ajax"],(function(Ajax){let params={mmogameid:instance.mmogameid,kinduser:instance.kinduser,user:instance.user,attempt:instance.attempt,answer:instance.answer,answerid:instance.answerid,subcommand:""};Ajax.call([{methodname:"mmogametype_quiz_set_answer",args:params}])[0].done((function(response){instance.processSetAnswer(JSON.parse(response))})).fail((function(error){return error}))}))}processSetAnswer(json){this.correct=json.correct,this.updateScreenAfterAnswer(json)}onServerFastJson(response){let pos=response.indexOf("-");if(pos>=0){let state=parseInt(response.slice(0,pos));if(parseInt(response.slice(pos+1))!==this.timefastjson||state!==this.state)return void this.sendGetAttempt({mmogameid:this.mmogameid,kinduser:this.kinduser,user:this.user})}this.sendFastJSON()}processGetAttempt(json){if(0===parseInt(json.state))return json.qtype="",void 0!==json.colors&&(this.setColorsString(json.colors),this.createIconBar()),this.showScore(json),void this.createDivMessageStart(this.getStringM("js_wait_to_start"));super.processGetAttempt(json),void 0!==this.btnSubmit&&(this.btnSubmit.style.visibility="hidden")}showScore(sumcorrect,rank,name,usercode,addscore,completedrank,percentcompleted,rankc,sumscore){void 0!==rank&&void 0!==rankc&&(parseInt(rank)<parseInt(rankc)?(this.completedrank="",this.rank="# "+rank):(this.rank="",this.completedrank="# "+rankc));let s=sumscore;super.showScore(sumcorrect,rank,name,usercode,addscore,completedrank,percentcompleted),s=void 0===(sumscore=s)?"":"<b>"+sumscore+"</b>",this.labelScore.innerHTML!==s&&(this.labelScore.innerHTML=s,this.autoResizeText(this.labelScore,.8*this.iconSize/2,this.iconSize/2,!1,0,0,1))}showHelpScreen(div){div.innerHTML="<br>\n<div>"+this.getStringG("js_alone_help")+'</div><br>\n\n<table border=1>\n    <tr>\n        <td><img height="83" src="assets/aduel/example2.png" alt="" /></td>\n        <td>'+this.getStringG("js_aduel_example2")+"</td>\n    </tr>\n</table>\n        "}}}));

//# sourceMappingURL=mmogametypequizalone.min.js.map