define("mmogametype_quiz/mmogamequizalone",["mmogamequiz"],(function(mmoGameQuiz){return class extends mmoGameQuiz{constructor(){super(),this.cIcons=this.hasHelp()?5:4,this.autosave=!0,this.autosubmit=!0,this.type="alone"}static init(mmogameid,pin,kinduser,user){return new this(mmogameid,pin,kinduser,user)}createIconBar(){let i=0;this.nickNameHeight=Math.round(this.iconSize/3),this.buttonAvatarLeft=this.padding+i*(this.iconSize+this.padding),this.buttonAvatarHeight=Math.round(this.iconSize-this.iconSize/3),this.buttonAvatarTop=this.iconSize-this.buttonAvatarHeight+this.padding,this.createButtonsAvatar(1,Math.round(this.padding+i++*(this.iconSize+this.padding))),this.buttonsAvatar[1].style.top=this.padding+this.nickNameHeight+"px",this.createDiv(this.body,this.buttonAvatarLeft,this.padding,this.iconSize,this.buttonAvatarTop),this.createDivScorePercent(this.padding+i++*(this.iconSize+this.padding),this.padding+this.nickNameHeight,1),this.createButtonSound(this.padding+i++*(this.iconSize+this.padding),this.padding+this.nickNameHeight);let instance=this;this.hasHelp()&&(this.createButtonHelp(this.padding+i++*(this.iconSize+this.padding),this.padding),this.buttonHelp.addEventListener("click",(function(){instance.onClickHelp(instance.buttonHelp)})));let copyrightHeight=this.getCopyrightHeight();this.areaTop=2*this.padding+this.iconSize+this.nickNameHeight,this.areaWidth=Math.round(window.innerWidth-2*this.padding),this.areaHeight=Math.round(window.innerHeight-this.areaTop-copyrightHeight),this.createDivColor(this.body,0,window.innerHeight-copyrightHeight-1,window.innerWidth-1,copyrightHeight,this.getColorGray(this.colorCopyright)),this.vertical=this.areaHeight>this.areaWidth}updatePercent(json){if(void 0!==this.labelPercent){let s=void 0===json.percentcompleted?"":"<b>"+Math.round(100*json.percentcompleted)+" %</b>";this.labelPercent.innerHTML!==s&&(this.labelPercent.innerHTML=s,this.autoResizeText(this.labelPercent,this.iconSize-2*this.padding,this.iconSize/2,!1,0,0,1))}}onServerAnswer(json){super.onServerAnswer(json),0!==json.submit&&this.updatePercent(json)}onServerFastJson(response){let pos=response.indexOf("-");if(pos>=0){let state=parseInt(response.slice(0,pos));if(parseInt(response.slice(pos+1))!==this.timefastjson||state!==this.state)return void this.sendGetAttempt()}this.sendFastJSON()}onServerGetAttempt(json,param){if(0===json.state&&void 0===param)return json.qtype="",super.onServerGetAttempt(json,param),this.showScore(json),void this.createDivMessageStart("[LANGM_WAIT_TO_START]");super.onServerGetAttempt(json,param),this.updatePercent(json),void 0!==this.btnSubmit&&(this.btnSubmit.style.visibility="hidden")}showScore(json){let rank=json.rank,rankc=json.completedrank;void 0!==rank&&void 0!==rankc&&(parseInt(rank)<parseInt(rankc)?(json.completedrank="",json.rank="# "+rank):(json.rank="",json.completedrank="# "+rankc));let s=json.sumscore;json.sumscore=this.labelScore.innerHTML,super.showScore(json),json.sumscore=s,s=void 0===json.sumscore?"":"<b>"+json.sumscore+"</b>",this.labelScore.innerHTML!==s&&(this.labelScore.innerHTML=s,this.autoResizeText(this.labelScore,.8*this.iconSize/2,this.iconSize/2,!1,0,0,1)),json.rank=rank,json.completedrank=rankc}showHelpScreen(div){div.innerHTML='<br>\n<div>[LANG_ALONE_HELP]</div><br>\n\n<table border=1>\n    <tr>\n        <td><img height="83" src="../../assets/aduel/example2.png" alt="" /></td>\n        <td>'+this.getStringG("js_aduel_example2")+"</td>\n    </tr>\n</table>\n        "}}}));

//# sourceMappingURL=mmogamequizalone.min.js.map