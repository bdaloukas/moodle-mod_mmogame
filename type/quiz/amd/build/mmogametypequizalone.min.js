define("mmogametype_quiz/mmogametypequizalone",["mmogametype_quiz/mmogametypequiz"],(function(MmoGameTypeQuiz){return class extends MmoGameTypeQuiz{cacheScore;avatarElement;nicknameElement;constructor(){super(),this.cIcons=this.hasHelp()?5:4,this.type="alone"}createIconBar(){let i=0;const step=this.iconSize+this.padding,nicknameHeight=Math.round(this.iconSize/3);[this.nicknameElement,this.avatarElement]=this.createNicknameAvatar("mmogame-quiz-alone",Math.round(this.padding+i++*step),this.padding,2*this.iconSize+this.padding,nicknameHeight,this.padding+nicknameHeight,this.iconSize)}processSetAnswer(json){this.correct=json.correct,this.playAudio(0!==json.iscorrect?this.audioYes:this.audioNo),void 0!==json.correct&&"multichoice"===this.qtype&&this.updateScreenAfterAnswerMultichoice(),this.disableInput(),this.btnSubmit&&(this.body.removeChild(this.btnSubmit),this.btnSubmit=void 0);const btn=super.createImageButton(this.area,"mmogame-quiz-next",this.nextLeft,this.nextTop,0,this.iconSize,"assets/next.svg");btn.addEventListener("click",(()=>{this.callGetAttempt(),this.area.removeChild(btn)})),this.showScore(json)}onServerFastJson(response){const[state,timefastjson]=response.split("-").map(Number);timefastjson===this.timefastjson&&state===this.state?this.sendFastJSON():this.sendGetAttempt({mmogameid:this.mmogameid,kinduser:this.kinduser,user:this.user})}processGetAttempt(json){if(this.computeDifClock(json.time,json.timestart,json.timeclose),0===parseInt(json.state))return json.qtype="",json.colors&&(this.setColorsString(json.colors),this.createIconBar()),this.showScore(json),void this.createDivMessageStart(this.getStringM("js_wait_to_start"));json.colors&&(this.setColorsString(json.colors),this.createIconBar()),json.name&&(document.title=json.name),json.helpurl&&(this.helpUrl=json.helpurl),json.errorcode?this.createDivMessage("mmogame-error",json.errorcode):(this.state=parseInt(json.state,10),this.fastjson=json.fastjson,this.timefastjson=parseInt(json.timefastjson,10),this.updateButtonsAvatar(1,this.avatarElement,this.nicknameElement,json.avatar,json.nickname,this.iconSize,Math.round(this.iconSize/3)),this.attempt=json.attempt,this.qtype=json.qtype,"multichoice"===this.qtype&&(this.answers=[],this.answersID=json.answerids,json.answers.forEach(((answer,index)=>{this.answers[index]=this.repairP(answer)}))),this.answer=json.answer??void 0,this.endofgame=void 0!==json.endofgame&&0!==json.endofgame,this.definition=this.repairP(json.definition),this.errorcode=json.errorcode,0!==json.state&&this.createScreen(json,!1),this.updateLabelTimer(),this.sendFastJSON(),this.btnSubmit&&(this.btnSubmit.style.visibility="hidden"))}showScore(_ref){let{rank:rank,rankc:rankc,sumscore:sumscore}=_ref}showHelpScreen(div){div.innerHTML=`\n                <br>\n                <div>${this.getStringG("js_alone_help")}</div><br>\n\n                <table border=1>\n                    <tr>\n                        <td><img height="83" src="assets/aduel/example2.png" alt="" /></td>\n                        <td>${this.getStringG("js_aduel_example2")}</td>\n                    </tr>\n                </table>\n            `}}}));

//# sourceMappingURL=mmogametypequizalone.min.js.map