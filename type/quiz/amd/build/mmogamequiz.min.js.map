{"version":3,"file":"mmogamequiz.min.js","sources":["../src/mmogamequiz.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\ndefine('mmogamequiz', ['mod_mmogame/mmogame'], function(mmoGame) {\n    return class mmoGameQuiz extends mmoGame {\n        mmogameid;\n        kinduser;\n        auserid;\n        url;\n        pin;\n        labelTimer;\n\n        /**\n         * Base class for Quiz mmmogame\n         *\n         * @module mmogametype_quiz\n         * @copyright 2024 Vasilis Daloukas\n         * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n         */\n\n        constructor() {\n            super();\n            this.hideSubmit = false;\n        }\n\n        setColors(colors, nameLoad) {\n            let c = this.repairColors(colors, nameLoad);\n\n            this.colorDefinition = c[1];\n            this.colorScore = c[2];\n            this.colorScore2 = c[4];\n        }\n\n        openGame(url, id, pin, auserid, kinduser, callOnAfterOpenGame) {\n            super.openGame(url, id, pin, auserid, kinduser, callOnAfterOpenGame);\n\n            this.audioYes = new Audio('assets/yes1.mp3');\n            this.audioYes.load();\n            this.audioNo = new Audio('assets/no1.mp3');\n            this.audioNo.load();\n        }\n\n        sendGetAttempt(param, subcommand) {\n            let xmlhttp = new XMLHttpRequest();\n            let instance = this;\n            xmlhttp.onreadystatechange = function() {\n                if (this.readyState === 4 && this.status === 200) {\n                    instance.onServerGetAttempt(JSON.parse(this.responseText), param);\n                }\n            };\n\n            xmlhttp.open(\"POST\", this.url, true);\n            xmlhttp.setRequestHeader(\"Content-Type\", \"application/json\");\n            let d = {\n                \"command\": \"getattempt\", \"mmogameid\": this.mmogameid, \"pin\": this.pin, \"kinduser\": this.kinduser,\n                \"user\": this.auserid, \"subcommand\": subcommand\n            };\n            if (this.helpurl === undefined) {\n                d.helpurl = 1;\n            }\n            let data = JSON.stringify(d);\n            xmlhttp.send(data);\n        }\n\n        onServerGetAttempt(json) {\n            this.computeDifClock(json);\n\n            if (this.colors === undefined) {\n                this.setColorsString(json.colors);\n                this.createIconBar();\n            }\n\n            if (json.name !== undefined) {\n                window.document.title = json.name;\n            }\n\n            if (json.helpurl !== undefined) {\n                this.helpUrl = json.helpurl;\n            }\n\n            if (json.errorcode !== undefined) {\n                this.createDivMessage(json.errorcode);\n                return;\n            }\n\n            this.state = parseInt(json.state);\n            this.fastjson = json.fastjson;\n            this.timefastjson = parseInt(json.timefastjson);\n            this.updateButtonsAvatar(1, json.avatar, json.nickname);\n\n            this.attempt = json.attempt;\n\n            this.qtype = json.qtype;\n            if (json.qtype === 'multichoice') {\n                this.answers = [];\n                this.answersID = [];\n                for (let i = 1; i <= json.answers; i++) {\n                    let answerid = json[\"answerid_\" + i];\n                    let answer = this.repairP(json[\"answer_\" + i]);\n                    this.answersID.push(answerid);\n                    this.answers.push(answer);\n\n                }\n            }\n            this.answer = json.answer !== undefined ? json.answer : null;\n            this.endofgame = json.endofgame !== undefined && json.endofgame !== 0;\n            this.definition = this.repairP(json.definition);\n            this.single = json.single;\n            this.errorcode = json.errorcode;\n\n            this.readJsonFiles(json);\n            if (json.state !== 0) {\n                this.createScreen(json, false);\n            }\n\n            this.updateLabelTimer();\n\n            this.sendFastJSON();\n        }\n\n        updateLabelTimer() {\n            if (this.labelTimer === undefined || this.timeclose === undefined) {\n                return;\n            }\n            if (this.timeclose === 0) {\n                this.labelTimer.innerHTML = '';\n                return;\n            }\n            let time = (new Date()).getTime();\n            let dif = this.timeclose - time / 1000;\n\n            if (dif <= 0) {\n                dif = 0;\n            }\n            dif = Math.round(dif);\n            if (dif <= 0) {\n                this.labelTimer.innerHTML = '';\n                this.onTimeout();\n            } else {\n                let s = (dif < 0 ? \"-\" : \"\") + Math.floor(dif / 60.0);\n                this.labelTimer.innerHTML = s + \":\" + (\"0\" + (dif % 60)).slice(-2);\n            }\n\n            if (dif <= 0 && this.timeclose !== 0) {\n                return;\n            }\n\n            let instance = this;\n            this.timerTimeout = setTimeout(function() {\n                instance.updateLabelTimer();\n            }, 500);\n        }\n\n        onTimeout() {\n            this.labelTimer.innerHTML = '';\n            this.disableInput();\n            this.sendTimeout();\n        }\n\n        createScreen(json, disabled) {\n            if (this.area !== undefined) {\n                this.body.removeChild(this.area);\n                this.area = undefined;\n            }\n            this.removeDivMessage();\n            this.area = this.createDiv(this.body, this.padding, this.areaTop, this.areaWidth, this.areaHeight);\n\n            if (this.endofgame) {\n                this.createDivMessage('LANGM_GAME_OVER_' + this.errorcode);\n                this.showScore(json);\n                return;\n            }\n\n            if (this.vertical) {\n                this.createScreenVertical(disabled);\n            } else {\n                this.createScreenHorizontal(disabled);\n            }\n            this.showScore(json);\n        }\n\n        createScreenVertical(disabled) {\n            let nickNameHeight = Math.round(this.iconSize / 3) + this.padding;\n            let maxHeight = this.areaHeight - 4 * this.padding - nickNameHeight;\n\n            if (this.hideSubmit === false) {\n                maxHeight -= this.iconSize;\n            }\n            let instance = this;\n            let maxWidth = this.areaWidth;\n            this.fontSize = this.findbest(this.minFontSize, this.maxFontSize, function(fontSize) {\n                    let defSize = instance.createDefinition(0, 0, maxWidth - 1, true, fontSize);\n\n                    if (defSize[0] >= maxWidth) {\n                        return 1;\n                    }\n                    let ansSize = instance.createAnswer(0, 0, maxWidth - 1, true, fontSize, disabled);\n                    if (ansSize[0] >= maxWidth) {\n                        return 1;\n                    }\n                    return defSize[1] + ansSize[1] < maxHeight ? -1 : 1;\n                }\n            );\n\n            this.radioSize = Math.round(this.fontSize);\n            this.explainLeft = 0;\n            let defSize = this.createDefinition(0, 0, maxWidth, false, this.fontSize);\n\n            this.nextTop = instance.createAnswer(0, defSize[1] + this.padding, maxWidth, false, this.fontSize, disabled);\n            this.nextLeft = this.areaWidth - this.iconSize - this.padding;\n\n            if (this.nextTop + this.padding >= this.areaHeight) {\n                this.nextTop = this.areaHeight - this.padding;\n            }\n\n            if (this.hideSubmit === false) {\n                let top = (this.areaWidth - this.iconSize) / 2;\n                this.btnSubmit = this.createImageButton(this.body, top, this.nextTop, 0, this.iconSize,\n                    \"\", 'assets/submit.svg', false, 'submit');\n                this.btnSubmit.addEventListener(\"click\",\n                    function() {\n                        if (instance.btnSubmit !== undefined) {\n                            instance.area.removeChild(instance.btnSubmit);\n                            instance.btnSubmit = undefined;\n                        }\n                        instance.sendAnswer(true);\n                    }\n                );\n            }\n\n            this.stripLeft = this.padding;\n            this.stripTop = this.nextTop;\n            this.stripWidth = 2 * this.iconSize;\n            this.stripHeight = this.iconSize;\n        }\n\n        createScreenHorizontal(disabled) {\n            let maxHeight = this.areaHeight - 2 * this.padding;\n\n            if (this.hideSubmit === false) {\n                maxHeight -= this.iconSize + this.padding;\n            }\n            let width = Math.round((this.areaWidth - this.padding) / 2);\n            let instance = this;\n            for (let step = 1; step <= 2; step++) {\n                let defSize;\n                this.fontSize = this.findbest(step === 1 ? this.minFontSize : this.minFontSize / 2, this.maxFontSize,\n                    function(fontSize) {\n                        defSize = instance.createDefinition(0, 0, width - instance.padding, true, fontSize);\n\n                        if (defSize[0] >= width) {\n                            return 1;\n                        }\n                        let ansSize = instance.createAnswer(0, 0, width - instance.padding, true, fontSize, disabled);\n                        if (ansSize[0] >= width) {\n                            return 1;\n                        }\n                        return defSize[1] < maxHeight && ansSize[1] < maxHeight ? -1 : 1;\n                    }\n                );\n                if (defSize[0] <= width && defSize[1] <= instance.areaHeight) {\n                    break;\n                }\n            }\n\n            this.radioSize = Math.round(this.fontSize);\n            this.createDefinition(0, 0, width - this.padding, false, this.fontSize);\n\n            this.nextTop = instance.createAnswer(width, 0, width - this.padding, false, this.fontSize, disabled) + this.padding;\n            this.nextLeft = width + Math.min(3 * this.iconSize + 2 * this.padding, width - this.iconSize);\n\n            if (this.hideSubmit) {\n                return;\n            }\n\n            this.btnSubmit = this.createImageButton(this.body, width + (width - this.iconSize) / 2, this.nextTop, 0, this.iconSize,\n                \"\", 'assets/submit.svg', false, 'submit');\n            this.btnSubmit.addEventListener(\"click\", function() {\n                instance.sendAnswer(true);\n            });\n\n            this.stripLeft = width + this.padding;\n            this.stripTop = this.nextTop;\n            this.stripWidth = 2 * this.iconSize;\n            this.stripHeight = this.iconSize;\n        }\n\n        createAnswer(left, top, width, onlyMetrics, fontSize, disabled) {\n            return this.createAnswerMultichoice(left, top, width, onlyMetrics, fontSize, disabled);\n        }\n\n        createAnswerMultichoice(left, top, width, onlyMetrics, fontSize, disabled) {\n            let n = this.answers.length;\n            let instance = this;\n\n            let aChecked = [];\n            if (this.answer !== null) {\n                aChecked = this.answer.split(\",\");\n            }\n            if (aChecked.length > 0) {\n                if (aChecked[0] === \"\") {\n                    aChecked.pop();\n                }\n            }\n\n            this.multichoiceLeft = left;\n            this.aItemAnswer = new Array(n);\n            this.aItemLabel = new Array(n);\n            this.aItemCorrectX = new Array(n);\n            let retSize = [0, 0];\n            this.labelWidth = Math.round(width - fontSize - this.padding - this.getMultichoiceSpace(fontSize));\n            let checkboxSize = Math.round(fontSize);\n            let top1 = top;\n            let offsetLabel = this.getMultichoiceSpace(fontSize);\n            for (let i = 0; i < n; i++) {\n                let label = document.createElement(\"label\");\n                label.style.position = \"absolute\";\n                label.style.width = this.labelWidth + \"px\";\n\n                label.innerHTML = this.repairHTML(this.answers[i], this.mapFiles, this.mapFilesWidth, this.mapFilesHeight);\n\n                label.style.font = \"FontAwesome\";\n                label.style.fontSize = fontSize + \"px\";\n                this.aItemLabel[i] = label;\n\n                if (onlyMetrics) {\n                    this.body.appendChild(label);\n                    let newSize = label.scrollWidth + fontSize + this.padding + this.getMultichoiceSpace(fontSize);\n                    if (newSize > retSize[0]) {\n                        retSize[0] = newSize;\n                    }\n                    retSize[1] += Math.max(label.scrollHeight, fontSize) + this.padding;\n\n                    this.body.removeChild(label);\n                    continue;\n                }\n\n                label.htmlFor = \"input\" + i;\n                label.style.left = (left + fontSize + this.padding + offsetLabel) + \"px\";\n                label.style.top = top + \"px\";\n                label.style.align = \"left\";\n                label.style.color = this.getColorContrast(this.colorBackground);\n\n                let checked = aChecked.includes(this.answersID[i]);\n                let item = this.createRadiobox(this.body, checkboxSize, this.colorDefinition, this.colorScore, checked, disabled);\n                item.style.position = \"absolute\";\n                item.style.left = left + \"px\";\n                let topRadio = top;\n                item.style.top = topRadio + \"px\";\n\n                item.addEventListener('click', () => {\n                    if (!item.classList.contains(\"disabled\")) {\n                        instance.onClickRadio(i, this.colorDefinition, this.colorScore, true);\n                    }\n                });\n\n                label.addEventListener('click', () => {\n                    instance.onClickRadio(i, instance.colorDefinition, instance.colorScore, true);\n                });\n\n                this.area.appendChild(item);\n                this.area.appendChild(label);\n                if (label.scrollHeight > fontSize) {\n                    topRadio = Math.round(top + (label.scrollHeight - fontSize) / 2);\n                    item.style.top = topRadio + \"px\";\n                }\n\n                if (this.answersID[i] === '') {\n                    item.style.visibility = 'hidden';\n                    label.style.visibility = 'hidden';\n                }\n\n                this.aItemAnswer[i] = item;\n                this.aItemCorrectX[i] = left + fontSize + this.padding;\n\n                top += Math.max(label.scrollHeight, fontSize) + this.padding;\n            }\n\n            if (onlyMetrics) {\n                return retSize;\n            }\n\n            let heightControls = top - top1;\n            let vspace;\n            if (this.vertical === false) {\n                vspace = this.areaHeight - heightControls - this.iconSize;\n                if (vspace > this.padding) {\n                    let move = Math.round(vspace / 3);\n                    for (let i = 0; i < n; i++) {\n                        this.aItemAnswer[i].style.top = (parseInt(this.aItemAnswer[i].style.top) + move) + \"px\";\n                        this.aItemLabel[i].style.top = (parseInt(this.aItemLabel[i].style.top) + move) + \"px\";\n                    }\n                    this.nextTop += move / 2;\n                    let defTop = parseInt(this.divDefinition.style.top);\n                    if (defTop + move + this.definitionHeight + this.padding < this.areaHeight) {\n                        this.divDefinition.style.top = this.aItemLabel[0].style.top;\n                        this.divDefinition.style.height = Math.max(heightControls, this.definitionHeight) + \"px\";\n                    }\n                    top += move;\n                }\n            }\n\n            return top;\n        }\n\n        onClickRadio(i, colorBack, color, callSendAnswer) {\n            if (this.aItemAnswer[i].classList.contains(\"disabled\")) {\n                return;\n            }\n            for (let j = 0; j < this.aItemAnswer.length; j++) {\n                let item = this.aItemAnswer[j];\n                let disabled = item.classList.contains(\"disabled\");\n\n                if (i === j) {\n                    item.classList.add(\"checked\");\n                    this.answer = this.answersID[i];\n                } else if (item.classList.contains(\"checked\")) {\n                    item.classList.remove(\"checked\");\n                }\n\n                this.drawRadio(item, disabled ? colorBack : 0xFFFFFF, color);\n            }\n            if (this.autosave && callSendAnswer) {\n                this.sendAnswer(this.autosubmit);\n            }\n        }\n\n        getMultichoiceSpace() {\n            return 0;\n        }\n\n        sendAnswer(submit, subcommand) {\n            if (submit) {\n                clearTimeout(this.timerTimeout);\n                this.timerTimeout = undefined;\n            }\n\n            let xmlhttp = new XMLHttpRequest();\n            let instance = this;\n            xmlhttp.onreadystatechange = function() {\n                if (this.readyState === 4 && this.status === 200) {\n                    let json = JSON.parse(this.responseText);\n                    if (submit) {\n                        json.submit = 1;\n                    }\n                    instance.onServerAnswer(json);\n                }\n            };\n            xmlhttp.open(\"POST\", this.url, true);\n\n            xmlhttp.setRequestHeader(\"Content-Type\", \"application/json\");\n            let a = {\n                \"command\": \"answer\", \"mmogameid\": this.mmogameid, \"pin\": this.pin, 'kinduser': this.kinduser,\n                \"user\": this.auserid, \"attempt\": this.attempt, \"answer\": this.answer, 'submit': submit ? 1 : 0\n            };\n            if (subcommand !== undefined) {\n                a.subcommand = subcommand;\n            }\n            let data = JSON.stringify(a);\n            xmlhttp.send(data);\n        }\n\n        sendTimeout() {\n            let xmlhttp = new XMLHttpRequest();\n            let instance = this;\n            xmlhttp.onreadystatechange = function() {\n                if (this.readyState === 4 && this.status === 200) {\n                    instance.sendGetAttempt();\n                }\n            };\n            xmlhttp.open(\"POST\", this.url, true);\n\n            xmlhttp.setRequestHeader(\"Content-Type\", \"application/json\");\n            let data = JSON.stringify({\n                \"command\": \"timeout\", \"mmogameid\": this.mmogameid, \"pin\": this.pin, 'kinduser': this.kinduser,\n                \"user\": this.auserid, \"attempt\": this.attempt\n            });\n            xmlhttp.send(data);\n        }\n\n        onServerAnswer(json) {\n            if (json.submit === 0) {\n                return;\n            }\n            this.correct = json.correct;\n\n            this.playAudio(json.iscorrect !== 0 ? this.audioYes : this.audioNo);\n\n            if (json.correct !== undefined) {\n                if (this.qtype === \"multichoice\") {\n                    this.onServerAnswerMultichoice(json);\n                }\n            }\n            this.disableInput();\n\n            if (this.btnSubmit !== undefined) {\n                this.body.removeChild(this.btnSubmit);\n                this.btnSubmit = undefined;\n            }\n\n            let btn = super.createImageButton(this.area, this.nextLeft, this.nextTop, 0, this.iconSize, \"\", 'assets/next.svg',\n                false, 'alt');\n            let instance = this;\n            btn.addEventListener(\"click\", function() {\n                instance.sendGetAttempt();\n                instance.area.removeChild(btn);\n            });\n\n            if (!json.iscorrect && this.qtype !== \"multichoice\") {\n                let w = this.nextLeft - this.explainLeft - 2 * this.padding - this.iconSize;\n                let ans2 = this.createDiv(this.body, this.explainLeft + this.iconSize + this.padding, this.nextTop, this.iconSize,\n                    this.iconSize);\n                ans2.style.lineHeight = this.iconSize + \"px\";\n                ans2.style.color = this.getColorContrast(this.colorBackground);\n                ans2.innerHTML = json.correct;\n                this.autoResizeText(ans2, w, this.iconSize, false, this.minFontSize, this.maxFontSize, 0.9);\n            }\n\n            this.showScore(json);\n        }\n\n        getSVGcorrect(size, iscorrect, colorCorrect, colorError) {\n            if (iscorrect) {\n                let c = colorCorrect !== undefined ? this.getColorHex(colorCorrect) : '#398439';\n                return \"<svg aria-hidden=\\\"true\\\" class=\\\"svg-icon iconCheckmarkLg\\\" width=\\\"\" + size + \"\\\" height=\\\"\" + size +\n                    \"\\\" viewBox=\\\"0 0 36 36\\\"><path fill=\\\"\" + c + \"\\\" d=\\\"m6 14 8 8L30 6v8L14 30l-8-8v-8z\\\"></path></svg>\";\n            } else {\n                let c = colorError !== undefined ? this.getColorHex(colorError) : '#398439';\n                return \"<svg width=\\\"\" + size + \"\\\" height=\\\"\" + size +\n                    \"\\\" class=\\\"bi bi-x-lg\\\" viewBox=\\\"0 0 18 18\\\"> <path fill=\\\"\" + c +\n                    `\" d=\"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 \n                1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z\"/></svg>`;\n            }\n        }\n\n        onServerAnswerMultichoice(json) {\n            let aCorrect = json.correct.split(\",\");\n\n            for (let i = 0; i < this.answersID.length; i++) {\n                let label = this.aItemLabel[i];\n                let checked = this.aItemAnswer[i].classList.contains(\"checked\");\n                let iscorrect;\n\n                if (aCorrect.includes(this.answersID[i])) {\n                    iscorrect = true;\n                } else if (json.correct !== undefined && checked) {\n                    iscorrect = false;\n                } else {\n                    continue;\n                }\n                let height = label.scrollHeight;\n                let width = label.scrollWidth - this.radioSize;\n                label.style.left = (parseInt(label.style.left) + this.radioSize) + \"px\";\n                label.style.width = width + \"px\";\n                if (iscorrect) {\n                    label.innerHTML = '<b><u>' + label.innerHTML + '</u></b>';\n                }\n                this.autoResizeText(label, width, height, true, this.minFontSize, this.maxFontSize, 0.9);\n\n                let t = parseInt(this.aItemAnswer[i].style.top);\n                let div = this.createDiv(this.area, this.aItemCorrectX[i], t, this.radioSize, this.radioSize);\n                div.innerHTML = this.getSVGcorrect(this.radioSize, iscorrect, this.colorScore, this.colorScore);\n            }\n        }\n\n        disableInput() {\n            if (this.aItemAnswer !== undefined) {\n                for (let i = 0; i < this.aItemAnswer.length; i++) {\n                    this.aItemAnswer[i].classList.add(\"disabled\");\n                    this.drawRadio(this.aItemAnswer[i], this.colorScore, this.colorDefinition);\n                }\n            }\n        }\n\n        sendFastJSON() {\n            if (this.timeoutFastJSON !== undefined) {\n                clearTimeout(this.timeoutFastJSON);\n            }\n            let instance = this;\n            this.timeoutFastJSON = setTimeout(function() {\n                let xmlhttp = new XMLHttpRequest();\n                xmlhttp.onreadystatechange = function() {\n                    this.timeoutFastJSON = undefined;\n                    if (this.readyState === 4 && this.status === 200) {\n                        instance.onServerFastJson(this.response);\n                    }\n                };\n\n                let url = instance.url.substr(0, instance.url.length - 8) + \"state.php\";\n\n                xmlhttp.open(\"POST\", url, true);\n\n                let data = new FormData();\n                data.set('fastjson', instance.fastjson);\n                data.set('type', instance.type);\n\n                xmlhttp.send(data);\n            }, 1000);\n        }\n\n        onClickHelp() {\n            if (this.helpUrl !== '') {\n                window.open(this.helpUrl, \"_blank\");\n            }\n        }\n    };\n    });"],"names":["define","mmoGame","constructor","hideSubmit","setColors","colors","nameLoad","c","this","repairColors","colorDefinition","colorScore","colorScore2","openGame","url","id","pin","auserid","kinduser","callOnAfterOpenGame","audioYes","Audio","load","audioNo","sendGetAttempt","param","subcommand","xmlhttp","XMLHttpRequest","instance","onreadystatechange","readyState","status","onServerGetAttempt","JSON","parse","responseText","open","setRequestHeader","d","mmogameid","undefined","helpurl","data","stringify","send","json","computeDifClock","setColorsString","createIconBar","name","window","document","title","helpUrl","errorcode","state","parseInt","fastjson","timefastjson","updateButtonsAvatar","avatar","nickname","attempt","qtype","answers","answersID","i","answerid","answer","repairP","push","endofgame","definition","single","readJsonFiles","createScreen","updateLabelTimer","sendFastJSON","createDivMessage","labelTimer","timeclose","innerHTML","time","Date","getTime","dif","Math","round","onTimeout","s","floor","slice","timerTimeout","setTimeout","disableInput","sendTimeout","disabled","area","body","removeChild","removeDivMessage","createDiv","padding","areaTop","areaWidth","areaHeight","showScore","vertical","createScreenVertical","createScreenHorizontal","nickNameHeight","iconSize","maxHeight","maxWidth","fontSize","findbest","minFontSize","maxFontSize","defSize","createDefinition","ansSize","createAnswer","radioSize","explainLeft","nextTop","nextLeft","top","btnSubmit","createImageButton","addEventListener","sendAnswer","stripLeft","stripTop","stripWidth","stripHeight","width","step","min","left","onlyMetrics","createAnswerMultichoice","n","length","aChecked","split","pop","multichoiceLeft","aItemAnswer","Array","aItemLabel","aItemCorrectX","retSize","labelWidth","getMultichoiceSpace","checkboxSize","top1","offsetLabel","label","createElement","style","position","repairHTML","mapFiles","mapFilesWidth","mapFilesHeight","font","appendChild","newSize","scrollWidth","max","scrollHeight","htmlFor","align","color","getColorContrast","colorBackground","checked","includes","item","createRadiobox","topRadio","classList","contains","onClickRadio","visibility","vspace","heightControls","move","divDefinition","definitionHeight","height","colorBack","callSendAnswer","j","add","remove","drawRadio","autosave","autosubmit","submit","clearTimeout","onServerAnswer","a","correct","playAudio","iscorrect","onServerAnswerMultichoice","btn","super","w","ans2","lineHeight","autoResizeText","getSVGcorrect","size","colorCorrect","colorError","getColorHex","aCorrect","t","timeoutFastJSON","onServerFastJson","response","substr","FormData","set","type","onClickHelp"],"mappings":"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"}